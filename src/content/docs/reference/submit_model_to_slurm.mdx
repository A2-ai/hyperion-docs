---
title: "Submits a NONMEM model to SLURM for execution"
description: "This function submits a NONMEM model file to a SLURM cluster for execution, allowing for parallel processing and job queue management."
pagefind: true
---

## Description

This function submits a NONMEM model file to a SLURM cluster for execution, allowing for parallel processing and job queue management. The function handles job configuration, resource allocation, and job submission through pharos

## Usage

```r
submit_model_to_slurm(
  model,
  overwrite = FALSE,
  dry_run = FALSE,
  run_in_output_dir = FALSE,
  ncpu = 1,
  partition = NULL,
  clean_level = 1,
  parafile = NULL,
  template = NULL,
  account = NULL
)
```

## Arguments

<div class="arg-table">
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>model</code></td>
<td>A hyperion_nonmem_model object, path to the NONMEM model file, or character vector of model paths/patterns (required)</td>
</tr>
<tr>
<td><code>overwrite</code></td>
<td>Whether to overwrite existing output files (default: FALSE)</td>
</tr>
<tr>
<td><code>dry_run</code></td>
<td>Whether to perform a dry run without actually submitting the job (default: FALSE)</td>
</tr>
<tr>
<td><code>run_in_output_dir</code></td>
<td>Whether to run the job in the output directory (default: FALSE)</td>
</tr>
<tr>
<td><code>ncpu</code></td>
<td>Number of CPUs to allocate for the job (default: 1)</td>
</tr>
<tr>
<td><code>partition</code></td>
<td>SLURM partition to submit the job to (default: NULL, uses cluster default)</td>
</tr>
<tr>
<td><code>clean_level</code></td>
<td>Level of cleanup to perform after job completion (default: 1)</td>
</tr>
<tr>
<td><code>parafile</code></td>
<td>Path to parameter file for parallel runs (default: NULL)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>Path to SLURM template file for job submission (default: NULL)</td>
</tr>
<tr>
<td><code>account</code></td>
<td>SLURM account to charge the job to (default: NULL)</td>
</tr>
</tbody>
</table>
</div>

## Value

Returns invisibly after printing job submission results. Prints model path and corresponding SLURM job ID for each submitted job.

## Examples

```r
## Not run: 
# Submit a basic NONMEM model
submit_model_to_slurm("model.mod")

# Submit using a model object
model <- read_model("model.mod")
submit_model_to_slurm(model)

# Dry run to test submission without actually running
submit_model_to_slurm("model.mod", dry_run = TRUE)

# Submit to specific partition with account
submit_model_to_slurm("model.mod", partition = "gpu", account = "myproject")

## End(Not run)
```
